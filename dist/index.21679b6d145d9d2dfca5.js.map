{"version":3,"sources":["webpack:///index.21679b6d145d9d2dfca5.js","webpack:///./index.js","webpack:///./js/index/control.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","104","$","_interopRequireDefault","obj","__esModule","default","_control","_control2","call","105","Common","Object","defineProperty","value","_slicedToArray2","_slicedToArray3","_getIterator2","_getIterator3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_map","_map2","_handlebars","_handlebars2","_template","_template2","_momentjs","_momentjs2","_vivus","_vivus2","Control","this","data","init","key","C","type","duration","animTimingFunction","EASE","file","getData","window","on","onResize","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","content","next","done","way","start","onway","end","plan","length","startDate","startDateShow","month","date","year","now","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","entries","_step2$value","i","w","location","err","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_step3$value","mapDom","attr","MAPBOX","A","get","result","status","dealData","travelInfoTemp","compile","indexInfo","append","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","_step4$value","drawPoly","_h","height","css","getControl","122"],"mappings":"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","file":"index.21679b6d145d9d2dfca5.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(104);\n\n\n/***/ },\n\n/***/ 104:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {\"use strict\";\n\t\n\tvar _control = __webpack_require__(105);\n\t\n\tvar _control2 = _interopRequireDefault(_control);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tif (false) {\n\t\tCommon.U.loadCss(\"css/index.css\");\n\t} else {\n\t\t__webpack_require__(122);\n\t}\n\t\n\t$(function () {\n\t\t(0, _control2.default)();\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ },\n\n/***/ 105:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, Common) {\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _slicedToArray2 = __webpack_require__(106);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tvar _getIterator2 = __webpack_require__(111);\n\t\n\tvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\t\n\tvar _classCallCheck2 = __webpack_require__(115);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(116);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tvar _map = __webpack_require__(120);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\t\n\tvar _handlebars = __webpack_require__(17);\n\t\n\tvar _handlebars2 = _interopRequireDefault(_handlebars);\n\t\n\tvar _template = __webpack_require__(121);\n\t\n\tvar _template2 = _interopRequireDefault(_template);\n\t\n\tvar _momentjs = __webpack_require__(14);\n\t\n\tvar _momentjs2 = _interopRequireDefault(_momentjs);\n\t\n\tvar _vivus = __webpack_require__(16);\n\t\n\tvar _vivus2 = _interopRequireDefault(_vivus);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Control = function () {\n\t\tfunction Control() {\n\t\t\t(0, _classCallCheck3.default)(this, Control);\n\t\n\t\t\t// this.container = $(container);\n\t\t\tthis.data = {};\n\t\t\tthis.init();\n\t\t}\n\t\n\t\t(0, _createClass3.default)(Control, [{\n\t\t\tkey: \"init\",\n\t\t\tvalue: function init() {\n\t\t\t\tvar C = this;\n\t\t\t\tnew _vivus2.default('header_icon', { type: 'delayed',\n\t\t\t\t\tduration: 200,\n\t\t\t\t\tanimTimingFunction: _vivus2.default.EASE,\n\t\t\t\t\tfile: '/images/badge.svg' });\n\t\n\t\t\t\tnew _vivus2.default('footer_icon', { type: 'delayed',\n\t\t\t\t\tduration: 200,\n\t\t\t\t\tanimTimingFunction: _vivus2.default.EASE,\n\t\t\t\t\tfile: '/images/footer.svg' });\n\t\n\t\t\t\t// $(document).on(\"mousewheel\",function(event){\n\t\n\t\t\t\t// });\n\t\t\t\t// $(\"#header_icon\").tooltipster({content:\"测试\"});\n\t\n\t\n\t\t\t\tthis.getData();\n\t\n\t\t\t\t$(window).on(\"resize\", C.onResize);\n\t\t\t\tC.onResize();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"dealData\",\n\t\t\tvalue: function dealData() {\n\t\t\t\tvar C = this;\n\t\n\t\t\t\tvar _iteratorNormalCompletion = true;\n\t\t\t\tvar _didIteratorError = false;\n\t\t\t\tvar _iteratorError = undefined;\n\t\n\t\t\t\ttry {\n\t\t\t\t\tfor (var _iterator = (0, _getIterator3.default)(C.data.content), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t\t\t\t\tvar data = _step.value;\n\t\n\t\t\t\t\t\tvar content = data.way;\n\t\t\t\t\t\tcontent.start = content.onway[0];\n\t\t\t\t\t\tcontent.end = content.plan[content.plan.length - 1];\n\t\t\t\t\t\tvar startDate = (0, _momentjs2.default)(content.startDate);\n\t\t\t\t\t\tcontent.startDateShow = {\n\t\t\t\t\t\t\tmonth: startDate.month() + 1,\n\t\t\t\t\t\t\tdate: startDate.date(),\n\t\t\t\t\t\t\tyear: startDate.year()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tcontent.now = content.onway[content.onway.length - 1];\n\t\n\t\t\t\t\t\tvar _iteratorNormalCompletion2 = true;\n\t\t\t\t\t\tvar _didIteratorError2 = false;\n\t\t\t\t\t\tvar _iteratorError2 = undefined;\n\t\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator2 = (0, _getIterator3.default)(content.onway.entries()), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t\t\t\t\t\t\t\tvar _step2$value = (0, _slicedToArray3.default)(_step2.value, 2);\n\t\n\t\t\t\t\t\t\t\tvar i = _step2$value[0];\n\t\t\t\t\t\t\t\tvar w = _step2$value[1];\n\t\n\t\t\t\t\t\t\t\tif (i != content.onway.length - 1) {\n\t\t\t\t\t\t\t\t\tdelete w.location;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError2 = true;\n\t\t\t\t\t\t\t_iteratorError2 = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t\t\t\t\t\t\t\t\t_iterator2.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError2) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError2;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tvar _iteratorNormalCompletion3 = true;\n\t\t\t\t\t\tvar _didIteratorError3 = false;\n\t\t\t\t\t\tvar _iteratorError3 = undefined;\n\t\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator3 = (0, _getIterator3.default)(content.plan.entries()), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n\t\t\t\t\t\t\t\tvar _step3$value = (0, _slicedToArray3.default)(_step3.value, 2);\n\t\n\t\t\t\t\t\t\t\tvar i = _step3$value[0];\n\t\t\t\t\t\t\t\tvar w = _step3$value[1];\n\t\n\t\t\t\t\t\t\t\tif (i != content.plan.length - 1 && i != 0) {\n\t\t\t\t\t\t\t\t\tdelete w.location;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError3 = true;\n\t\t\t\t\t\t\t_iteratorError3 = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion3 && _iterator3.return) {\n\t\t\t\t\t\t\t\t\t_iterator3.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError3) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError3;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\t_didIteratorError = true;\n\t\t\t\t\t_iteratorError = err;\n\t\t\t\t} finally {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (!_iteratorNormalCompletion && _iterator.return) {\n\t\t\t\t\t\t\t_iterator.return();\n\t\t\t\t\t\t}\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif (_didIteratorError) {\n\t\t\t\t\t\t\tthrow _iteratorError;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"drawPoly\",\n\t\t\tvalue: function drawPoly(i, data) {\n\t\t\t\tvar C = this;\n\t\n\t\t\t\tvar content = data.way;\n\t\t\t\tvar mapDom = $(\"#mapContainer_\" + i);\n\t\n\t\t\t\tvar map = new _map2.default(mapDom.attr(\"id\"), _map2.default.MAPBOX, content);\n\t\t\t\t// let drawPoly = map.drawPolyline(content.plan,Map.GREY);\n\t\t\t\t// map.drawPolyline(content.onway,Map.COLORFUL);\n\t\t\t\t// map.focus(drawPoly);\n\t\t\t\t// $(\".leaflet-marker-icon\").tooltipster();\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"getData\",\n\t\t\tvalue: function getData() {\n\t\t\t\tvar C = this;\n\t\t\t\tCommon.A.get(\"data/ways.json\", function (result) {\n\t\t\t\t\tif (result.status == 1) {\n\t\t\t\t\t\tC.data = result;\n\t\t\t\t\t\tC.dealData();\n\t\t\t\t\t\tvar travelInfoTemp = _handlebars2.default.compile(_template2.default.indexInfo);\n\t\t\t\t\t\t$('.container').append(travelInfoTemp(C.data));\n\t\n\t\t\t\t\t\tvar _iteratorNormalCompletion4 = true;\n\t\t\t\t\t\tvar _didIteratorError4 = false;\n\t\t\t\t\t\tvar _iteratorError4 = undefined;\n\t\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tfor (var _iterator4 = (0, _getIterator3.default)(C.data.content.entries()), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n\t\t\t\t\t\t\t\tvar _step4$value = (0, _slicedToArray3.default)(_step4.value, 2);\n\t\n\t\t\t\t\t\t\t\tvar i = _step4$value[0];\n\t\t\t\t\t\t\t\tvar data = _step4$value[1];\n\t\n\t\t\t\t\t\t\t\tC.drawPoly(i, data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t_didIteratorError4 = true;\n\t\t\t\t\t\t\t_iteratorError4 = err;\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tif (!_iteratorNormalCompletion4 && _iterator4.return) {\n\t\t\t\t\t\t\t\t\t_iterator4.return();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\tif (_didIteratorError4) {\n\t\t\t\t\t\t\t\t\tthrow _iteratorError4;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}, {\n\t\t\tkey: \"onResize\",\n\t\t\tvalue: function onResize() {\n\t\t\t\tvar _h = $(window).height();\n\t\t\t\t$(\".header\").height(_h).css(\"font-size\", _h / 700 + \"em\");\n\t\t\t}\n\t\t}]);\n\t\treturn Control;\n\t}();\n\t\n\tvar getControl = function getControl() {\n\t\treturn new Control();\n\t};\n\texports.default = getControl;\n\t\n\t// <defs xmlns=\"http://www.w3.org/2000/svg\">\n\t// <linearGradient id=\"orange_red\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n\t// <stop offset=\"0%\" style=\"stop-color: #ffc663;stop-opacity:1;\"></stop>\n\t// <stop offset=\"100%\" style=\"stop-color:#34ebde;stop-opacity:1\"></stop>\n\t// </linearGradient>\n\t// </defs>\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1), __webpack_require__(18)))\n\n/***/ },\n\n/***/ 122:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** index.21679b6d145d9d2dfca5.js\n **/","import control from './js/index/control';\n\nif(WEBPACK_DEBUG){\n\tCommon.U.loadCss(\"css/index.css\");\n}else{\n\trequire(\"./css/index.css\");\n}\n\n$(()=>{\n    control();\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.js\n **/","import Map from '../plugin/map';\nimport Handlebars from \"handlebars\";\nimport template from \"../template\";\nimport moment from \"momentjs\";\nimport Vivus from \"vivus\";\nclass Control{\n\tconstructor(){\n\t\t// this.container = $(container);\n\t\tthis.data = {};\n\t\tthis.init();\n\t}\n\n\tinit(){\n\t\tlet C = this;\n\t\tnew Vivus('header_icon', {type: 'delayed',\n\t\t\t    duration: 200,\n\t\t\t    animTimingFunction: Vivus.EASE,\n\t\t\t    file: '/images/badge.svg'});\n\n\t\t\n\t\tnew Vivus('footer_icon', {type: 'delayed',\n\t\t\t    duration: 200,\n\t\t\t    animTimingFunction: Vivus.EASE,\n\t\t\t    file: '/images/footer.svg'});\n\n\t\t\n\t\t// $(document).on(\"mousewheel\",function(event){\n\t\t\t\n\t\t// });\n\t\t// $(\"#header_icon\").tooltipster({content:\"测试\"});\n\n\n\t\tthis.getData();\n\n\t\t$(window).on(\"resize\",C.onResize);\n\t\tC.onResize();\n\t}\n\n\n\n\tdealData(){\n\t\tlet C = this;\n\n\t\tfor(let data of C.data.content){\n\t\t\tlet content = data.way;\n\t\t\tcontent.start = content.onway[0];\n\t\t\tcontent.end = content.plan[content.plan.length-1];\n\t\t\tlet startDate = moment(content.startDate);\n\t\t\tcontent.startDateShow = {\n\t\t\t\tmonth:startDate.month()+1,\n\t\t\t\tdate:startDate.date(),\n\t\t\t\tyear:startDate.year()\n\t\t\t};\n\t\t\tcontent.now = content.onway[content.onway.length-1];\n\n\t\t\tfor(let [i,w] of content.onway.entries()){\n\t\t\t\tif(i!=content.onway.length-1){\n\t\t\t\t\tdelete w.location;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor(let [i,w] of content.plan.entries()){\n\t\t\t\tif(i!=content.plan.length-1&&i!=0){\n\t\t\t\t\tdelete w.location;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tdrawPoly(i,data){\n\t\tlet C = this;\n\n\t\tlet content = data.way;\n\t\tlet mapDom = $(\"#mapContainer_\" + i);\n\n\t\tlet map = new Map(mapDom.attr(\"id\"), Map.MAPBOX, content);\n\t\t// let drawPoly = map.drawPolyline(content.plan,Map.GREY);\n\t\t// map.drawPolyline(content.onway,Map.COLORFUL);\n\t\t// map.focus(drawPoly);\n\t\t// $(\".leaflet-marker-icon\").tooltipster();\n\t}\n\n\tgetData(){\n\t\tlet C = this;\n\t\tCommon.A.get(\"data/ways.json\",(result)=>{\n\t\t\tif(result.status==1){\n\t\t\t\tC.data = result;\n\t\t\t\tC.dealData();\n\t\t        let travelInfoTemp = Handlebars.compile(template.indexInfo);\n\t\t        $('.container').append(travelInfoTemp(C.data));\n\n\t\t\t\tfor(let [i,data] of C.data.content.entries()){\n\t\t\t\t\tC.drawPoly(i,data);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tonResize(){\n\t\tlet _h = $(window).height();\n\t\t$(\".header\").height(_h).css(\"font-size\",(_h/700+\"em\"));\n\t}\n}\n\nlet getControl = ()=>{\n\treturn new Control();\n}\nexport default getControl;\n\n// <defs xmlns=\"http://www.w3.org/2000/svg\">\n// <linearGradient id=\"orange_red\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n// <stop offset=\"0%\" style=\"stop-color: #ffc663;stop-opacity:1;\"></stop>\n// <stop offset=\"100%\" style=\"stop-color:#34ebde;stop-opacity:1\"></stop>\n// </linearGradient>\n// </defs>\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/index/control.js\n **/"],"sourceRoot":""}