{"version":3,"sources":["webpack:///way.21679b6d145d9d2dfca5.js","webpack:///./way.js","webpack:///./js/way/control.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","124","$","_interopRequireDefault","obj","__esModule","default","_control","_control2","call","125","Common","Object","defineProperty","value","_slicedToArray2","_slicedToArray3","_getIterator2","_getIterator3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_map","_map2","_handlebars","_handlebars2","_template","_template2","_momentjs","_momentjs2","Control","this","data","init","status","isMoveing","index","page","canMouse","key","C","on","event","deltaY","isUp","isDown","pos","getScrollPostion","type","move","isBottom","way","onway","length","isTop","togglePage","changePage","getData","map","doms","timelines","filter","removeClass","tooltipster","NowTimeLet","timelinesDiv","width","position","left","scrollLeft","addClass","from","to","hideMouse","scrollTop","setTimeout","loadImages","each","i","n","_n","src","attr","y","_h","height","_bodyHeight","children","_y","isPageDown","showMouse","mouse","content","start","end","plan","days","nowDays","old_w","daysIndex","initDay","day","date","showDate","format","push","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","entries","next","done","_step$value","w","dateShow","dateTime","distance","err","console","log","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_step2$value","location","now","A","get","result","dealData","travelInfoTemp","compile","detailInfo","append","timelineTemp","timeLine","container","title","theme","multiple","trigger","autoClose","GAODE","user_marker","polyline_animated","zoom","_this","_index","parseInt","getControl","126"],"mappings":"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","file":"way.21679b6d145d9d2dfca5.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(124);\n\n\n/***/ },\n\n/***/ 124:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($) {\"use strict\";\n\t\n\tvar _control = __webpack_require__(125);\n\t\n\tvar _control2 = _interopRequireDefault(_control);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tif (false) {\n\t\tCommon.U.loadCss(\"css/way.css\");\n\t} else {\n\t\t__webpack_require__(126);\n\t}\n\t\n\t$(function () {\n\t\t(0, _control2.default)();\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1)))\n\n/***/ },\n\n/***/ 125:\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function($, Common) {\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray2 = __webpack_require__(106);\n\t\n\tvar _slicedToArray3 = _interopRequireDefault(_slicedToArray2);\n\t\n\tvar _getIterator2 = __webpack_require__(111);\n\t\n\tvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\t\n\tvar _classCallCheck2 = __webpack_require__(115);\n\t\n\tvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\t\n\tvar _createClass2 = __webpack_require__(116);\n\t\n\tvar _createClass3 = _interopRequireDefault(_createClass2);\n\t\n\tvar _map = __webpack_require__(120);\n\t\n\tvar _map2 = _interopRequireDefault(_map);\n\t\n\tvar _handlebars = __webpack_require__(17);\n\t\n\tvar _handlebars2 = _interopRequireDefault(_handlebars);\n\t\n\tvar _template = __webpack_require__(121);\n\t\n\tvar _template2 = _interopRequireDefault(_template);\n\t\n\tvar _momentjs = __webpack_require__(14);\n\t\n\tvar _momentjs2 = _interopRequireDefault(_momentjs);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// require(\"../../css/animate.min.css\");\n\t\n\t\n\tvar preventDefault = function preventDefault(event) {\n\t    console.log(1);\n\t    event.preventDefault();\n\t    event.stopImmediatePropagation();\n\t    event.stopPropagation();\n\t    return false;\n\t};\n\t\n\tvar Control = function () {\n\t    function Control() {\n\t        (0, _classCallCheck3.default)(this, Control);\n\t\n\t        // this.container = $(container);\n\t        this.data = {};\n\t        this.init();\n\t        this.status = { isMoveing: false };\n\t        this.index = -1;\n\t        this.page = null;\n\t        //momentInfo_\n\t        this.canMouse = false;\n\t        // this.x = 0\n\t    }\n\t\n\t    (0, _createClass3.default)(Control, [{\n\t        key: \"init\",\n\t        value: function init() {\n\t\n\t            var C = this;\n\t            $(\"body\").on(\"mousewheel\", function (event) {\n\t                if (event.deltaY == 0 || C.status.isMoveing) return false;\n\t                var isUp = event.deltaY < 0,\n\t                    isDown = !isUp;\n\t                var pos = C.getScrollPostion();\n\t                var type = \"up\",\n\t                    move = false;\n\t                // console.log(isUp,pos.isTop);\n\t                if (pos.isBottom && isUp && C.data.way.onway.length - 1 > C.index) {\n\t                    C.index++;\n\t                    move = true;\n\t                } else if (isDown && pos.isTop) {\n\t                    if (C.index > 0) {\n\t                        C.index--;\n\t                        type = \"down\";\n\t                        move = true;\n\t                    } else if (C.index == 0) {\n\t                        C.index--;\n\t                        C.togglePage(C.page, $(\".userInfo\"), \"down\");\n\t                    }\n\t                }\n\t\n\t                if (C.index > -1 && move) {\n\t                    C.changePage(type);\n\t                }\n\t            });\n\t            this.getData();\n\t        }\n\t    }, {\n\t        key: \"changePage\",\n\t        value: function changePage(type) {\n\t            var C = this;\n\t            C.togglePage(C.page, $(\"#momentInfo_\" + C.index), type);\n\t            C.map.move(C.index, 1000);\n\t            C.doms.timelines.filter(\".focused\").removeClass(\"focused\").tooltipster('hide');\n\t\n\t            var NowTimeLet = C.doms.timelines.filter(\"[index='\" + C.index + \"']\");\n\t            if (C.doms.timelinesDiv.width() / 2 - NowTimeLet.position().left - C.doms.timelinesDiv.scrollLeft() < 0) {\n\t                C.doms.timelinesDiv.scrollLeft(C.doms.timelinesDiv.scrollLeft() + NowTimeLet.position().left - C.doms.timelinesDiv.width() / 2, 100);\n\t            } else if (C.doms.timelinesDiv.width() / 2 - NowTimeLet.position().left > 0) {\n\t                C.doms.timelinesDiv.scrollLeft(0, 100);\n\t            }\n\t            NowTimeLet.addClass(\"focused\").tooltipster(\"show\");\n\t            // NowTimeLet.click();\n\t        }\n\t    }, {\n\t        key: \"togglePage\",\n\t        value: function togglePage(from, to, type) {\n\t            var C = this;\n\t            C.hideMouse();\n\t            C.status.isMoveing = true;\n\t            // C.doms.container.css(\"overflow-y\",\"hidden\");\n\t            from.addClass(\"transform from-start \" + type);\n\t            to.addClass(\"show transform to-start \" + type);\n\t            to.scrollTop(0);\n\t            C.page = to;\n\t            setTimeout(function () {\n\t                from.addClass(\"from-end\");\n\t                to.addClass(\"to-end\");\n\t            }, 0);\n\t            setTimeout(function () {\n\t                C.status.isMoveing = false;\n\t                from.removeClass(\"show transform from-start from-end \" + type);\n\t                to.removeClass(\"transform to-start to-end \" + type);\n\t                from.scrollTop(0);\n\t                C.loadImages();\n\t                C.getScrollPostion();\n\t            }, 1 * 1000);\n\t        }\n\t    }, {\n\t        key: \"loadImages\",\n\t        value: function loadImages() {\n\t            var C = this;\n\t            $(\".images img\", C.page).each(function (i, n) {\n\t                var _n = $(n);\n\t                if (!_n.data(\"havepic\")) {\n\t                    n.src = _n.attr(\"vsrc\");\n\t                    // _n.css(\"background-image\",\"url(\"+_n.attr(\"src\")+\")\");\n\t                    _n.data(\"havepic\", true);\n\t                }\n\t            });\n\t        }\n\t    }, {\n\t        key: \"getScrollPostion\",\n\t        value: function getScrollPostion(y) {\n\t            y = y || 0;\n\t            var C = this;\n\t            var isTop = false,\n\t                isBottom = false;\n\t            var scrollTop = C.page.scrollTop();\n\t            var _h = C.page.height();\n\t            var _bodyHeight = C.page.children().height();\n\t            var _y = _bodyHeight - (scrollTop + _h);\n\t            var isPageDown = _y < 110;\n\t            isTop = scrollTop == 0;\n\t            isBottom = _h >= _bodyHeight || _y == 0;\n\t            if (isPageDown) {\n\t                C.showMouse();\n\t            } else {\n\t                C.hideMouse();\n\t            }\n\t\n\t            return { isTop: isTop, isBottom: isBottom, isPageDown: isPageDown, y: scrollTop };\n\t        }\n\t    }, {\n\t        key: \"showMouse\",\n\t        value: function showMouse() {\n\t            var C = this;\n\t            if (C.canMouse) return false;\n\t            C.doms.mouse.addClass('show');\n\t            C.canMouse = true;\n\t        }\n\t    }, {\n\t        key: \"hideMouse\",\n\t        value: function hideMouse() {\n\t            var C = this;\n\t            if (!C.canMouse) return false;\n\t            C.doms.mouse.removeClass(\"show\");\n\t            C.canMouse = false;\n\t        }\n\t    }, {\n\t        key: \"dealData\",\n\t        value: function dealData() {\n\t            var C = this;\n\t            var content = C.data.way;\n\t            content.start = content.onway[0];\n\t            content.end = content.plan[content.plan.length - 1];\n\t            // let startDateShow = moment(content.startDate).format(\"k\");\n\t            // content.startDateShow = {\n\t            // \tmonth:startDate.month()+1,\n\t            // \tdate:startDate.date(),\n\t            // \tyear:startDate.year()\n\t            // };\n\t            var days = [],\n\t                nowDays = [],\n\t                old_w = void 0,\n\t                daysIndex = {};\n\t\n\t            var initDay = function initDay() {\n\t                if (nowDays.length > 0) {\n\t                    var day = { date: nowDays[0].date, data: nowDays };\n\t                    day.showDate = (0, _momentjs2.default)(day.date).format();\n\t                    days.push(day);\n\t                    nowDays = [];\n\t                }\n\t            };\n\t\n\t            var _iteratorNormalCompletion = true;\n\t            var _didIteratorError = false;\n\t            var _iteratorError = undefined;\n\t\n\t            try {\n\t                for (var _iterator = (0, _getIterator3.default)(content.onway.entries()), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t                    var _step$value = (0, _slicedToArray3.default)(_step.value, 2);\n\t\n\t                    var i = _step$value[0];\n\t                    var w = _step$value[1];\n\t\n\t                    w.dateShow = (0, _momentjs2.default)(w.date).format(\"kk\");\n\t                    w.dateTime = (0, _momentjs2.default)(w.date).format(\"HH:mm\");\n\t                    w.index = i;\n\t                    if (old_w) {\n\t                        if ((0, _momentjs2.default)(w.date).distance(old_w.date) !== 0) {\n\t                            initDay();\n\t                        }\n\t                        daysIndex[i] = days.length;\n\t                    }\n\t                    nowDays.push(w);\n\t                    old_w = w;\n\t                    // if(i!=content.onway.length-1){\n\t                    // \tdelete w.location;\n\t                    // }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError = true;\n\t                _iteratorError = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion && _iterator.return) {\n\t                        _iterator.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError) {\n\t                        throw _iteratorError;\n\t                    }\n\t                }\n\t            }\n\t\n\t            initDay();\n\t\n\t            C.data.daysIndex = daysIndex;\n\t            C.data.days = days;\n\t            console.log(C.data);\n\t\n\t            var _iteratorNormalCompletion2 = true;\n\t            var _didIteratorError2 = false;\n\t            var _iteratorError2 = undefined;\n\t\n\t            try {\n\t                for (var _iterator2 = (0, _getIterator3.default)(content.plan.entries()), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n\t                    var _step2$value = (0, _slicedToArray3.default)(_step2.value, 2);\n\t\n\t                    var i = _step2$value[0];\n\t                    var w = _step2$value[1];\n\t\n\t                    if (i != content.plan.length - 1 && i != 0) {\n\t                        delete w.location;\n\t                    }\n\t                }\n\t            } catch (err) {\n\t                _didIteratorError2 = true;\n\t                _iteratorError2 = err;\n\t            } finally {\n\t                try {\n\t                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n\t                        _iterator2.return();\n\t                    }\n\t                } finally {\n\t                    if (_didIteratorError2) {\n\t                        throw _iteratorError2;\n\t                    }\n\t                }\n\t            }\n\t\n\t            content.now = content.onway[content.onway.length - 1];\n\t        }\n\t    }, {\n\t        key: \"getData\",\n\t        value: function getData() {\n\t            var C = this;\n\t            Common.A.get(\"data/data.json\", function (result) {\n\t                if (result.status == 1) {\n\t                    C.data = result.content;\n\t                    C.dealData();\n\t\n\t                    var travelInfoTemp = _handlebars2.default.compile(_template2.default.detailInfo);\n\t                    $('#blog .container').append(travelInfoTemp(C.data));\n\t\n\t                    var timelineTemp = _handlebars2.default.compile(_template2.default.timeLine);\n\t                    $('#timeline').append(timelineTemp(C.data));\n\t\n\t                    C.doms = {\n\t                        mouse: $(\"#mouse-next\"),\n\t                        container: $('#blog>.container'),\n\t                        timelines: $(\"#timeline .time\"),\n\t                        timelinesDiv: $(\"#timeline\")\n\t                    };\n\t                    C.doms.timelines.each(function (i, n) {\n\t                        var title = n.title;\n\t                        $(n).tooltipster({\n\t                            position: 'bottom',\n\t                            content: title,\n\t                            theme: 'tooltipster-shadow',\n\t                            multiple: true\n\t                        });\n\t                        $(n).tooltipster({\n\t                            position: 'bottom',\n\t                            content: title,\n\t                            trigger: \"click\",\n\t                            autoClose: \"false\",\n\t                            theme: 'tooltipster-shadow',\n\t                            multiple: true\n\t                        });\n\t                    });\n\t\n\t                    //初次执行；\n\t                    C.page = $(\".userInfo\");\n\t                    var pos = C.getScrollPostion();\n\t                    C.canMouse = !pos.isPageDown;\n\t                    if (pos.isPageDown) {\n\t                        C.showMouse();\n\t                    } else {\n\t                        C.hideMouse();\n\t                    }\n\t                    // for(let [i,data] of C.data.content.entries()){\n\t                    // \tlet content = data.way;\n\t                    // \tlet mapDom = $(\"#mapContainer_\" + i);\n\t\n\t                    C.map = new _map2.default(\"mapContainer\", _map2.default.GAODE, C.data.way, { user_marker: true, polyline_animated: true, zoom: true });\n\t                    // C.doms.timelines.filter(\"[index='0']\").addClass(\"focused\");\n\t                    C.doms.timelines.on(\"click\", function () {\n\t                        var _this = $(this);\n\t                        var _index = parseInt(_this.attr(\"index\"));\n\t                        var type = C.index > _index ? \"down\" : \"up\";\n\t                        C.index = _index;\n\t                        C.changePage(type);\n\t                    });\n\t                    // let drawPoly = map.drawPolyline(C.data.way.plan,Map.GREY);\n\t                    // let drawPoly = map.drawPolyline(C.data.way.onway,Map.COLORFUL);\n\t                    // \tmap.drawPolyline(content.onway,Map.COLORFUL);\n\t                    // \tmap.focus(drawPoly);\n\t                    // $(\".leaflet-marker-icon\").tooltipster();\n\t                    // }\n\t                }\n\t            });\n\t        }\n\t    }]);\n\t    return Control;\n\t}();\n\t\n\tvar getControl = function getControl() {\n\t    return new Control();\n\t};\n\texports.default = getControl;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(1), __webpack_require__(18)))\n\n/***/ },\n\n/***/ 126:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** way.21679b6d145d9d2dfca5.js\n **/","import control from './js/way/control';\n\nif(WEBPACK_DEBUG){\n\tCommon.U.loadCss(\"css/way.css\");\n}else{\n\trequire(\"./css/way.css\");\n}\n\n$(()=>{\n\tcontrol();\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./way.js\n **/","import Map from '../plugin/map';\nimport Handlebars from \"handlebars\";\nimport template from \"../template\";\nimport moment from \"momentjs\";\n// require(\"../../css/animate.min.css\");\n\n\nlet preventDefault = function(event){\n    console.log(1);\n\tevent.preventDefault();\n\tevent.stopImmediatePropagation();\n    event.stopPropagation();\n\treturn false;\n};\nclass Control {\n    constructor() {\n        // this.container = $(container);\n        this.data = {};\n        this.init();\n        this.status = { isMoveing: false };\n        this.index = -1;\n        this.page = null;\n        //momentInfo_\n        this.canMouse = false;\n        // this.x = 0\n    }\n\n    init() {\n\n        let C = this;\n        $(\"body\").on(\"mousewheel\", function(event) {\n            if (event.deltaY == 0 || C.status.isMoveing) return false;\n            let isUp = event.deltaY < 0,\n                isDown = !isUp;\n            let pos = C.getScrollPostion();\n            let type = \"up\",move=false;\n            // console.log(isUp,pos.isTop);\n            if (pos.isBottom && isUp && C.data.way.onway.length - 1 > C.index) {\n                C.index++;\n                move = true;\n            } else if (isDown && pos.isTop) {\n                if (C.index > 0) {\n                    C.index--;\n                    type = \"down\";\n                \tmove = true;\n                } else if (C.index == 0) {\n                    C.index--;\n                    C.togglePage(C.page, $(\".userInfo\"), \"down\");\n                }\n            }\n\n            if(C.index>-1&&move){\n            \tC.changePage(type);\n            }\n        });\n        this.getData();\n    }\n\n    changePage(type){\n        let C = this;\n        C.togglePage(C.page, $(\"#momentInfo_\" + C.index), type);\n        C.map.move(C.index, 1000);\n        C.doms.timelines.filter(\".focused\").removeClass(\"focused\").tooltipster('hide');\n\n\n        let NowTimeLet = C.doms.timelines.filter(\"[index='\"+C.index+\"']\");\n        if(C.doms.timelinesDiv.width()/2-NowTimeLet.position().left-C.doms.timelinesDiv.scrollLeft()<0){\n        \tC.doms.timelinesDiv.scrollLeft(C.doms.timelinesDiv.scrollLeft()+NowTimeLet.position().left - C.doms.timelinesDiv.width()/2,100);\n        }else if(C.doms.timelinesDiv.width()/2-NowTimeLet.position().left>0){\n        \tC.doms.timelinesDiv.scrollLeft(0,100);\n        }\n        NowTimeLet.addClass(\"focused\").tooltipster(\"show\");\n        // NowTimeLet.click();\n    }\n\n    togglePage(from, to, type) {\n        let C = this;\n        C.hideMouse();\n        C.status.isMoveing = true;\n        // C.doms.container.css(\"overflow-y\",\"hidden\");\n        from.addClass(\"transform from-start \" + type);\n        to.addClass(\"show transform to-start \" + type);\n        to.scrollTop(0);\n        C.page = to;\n        setTimeout(function() {\n            from.addClass(\"from-end\");\n            to.addClass(\"to-end\");\n        }, 0);\n        setTimeout(function() {\n            C.status.isMoveing = false;\n            from.removeClass(\"show transform from-start from-end \" + type);\n            to.removeClass(\"transform to-start to-end \" + type);\n            from.scrollTop(0);\n            C.loadImages();\n            C.getScrollPostion();\n        }, 1 * 1000);\n    }\n\n    loadImages() {\n        let C = this;\n        $(\".images img\", C.page).each(function(i, n) {\n            let _n = $(n);\n            if (!_n.data(\"havepic\")) {\n                n.src = _n.attr(\"vsrc\");\n                // _n.css(\"background-image\",\"url(\"+_n.attr(\"src\")+\")\");\n                _n.data(\"havepic\", true);\n            }\n        });\n    }\n\n    getScrollPostion(y) {\n        y = y || 0;\n        let C = this;\n        let isTop = false,\n            isBottom = false;\n        let scrollTop = C.page.scrollTop();\n        let _h = C.page.height();\n        let _bodyHeight = C.page.children().height();\n        let _y = (_bodyHeight) - (scrollTop + _h);\n        let isPageDown = _y < 110;\n        isTop = scrollTop == 0;\n        isBottom = _h >= _bodyHeight || _y == 0;\n        if (isPageDown) {\n            C.showMouse();\n        } else {\n            C.hideMouse();\n        }\n\n        return { isTop, isBottom, isPageDown, y: scrollTop };\n    }\n\n    showMouse() {\n        let C = this;\n        if (C.canMouse) return false;\n        C.doms.mouse.addClass('show');\n        C.canMouse = true;\n    }\n\n    hideMouse() {\n        let C = this;\n        if (!C.canMouse) return false;\n        C.doms.mouse.removeClass(\"show\");\n        C.canMouse = false;\n    }\n\n    dealData() {\n        let C = this;\n        let content = C.data.way;\n        content.start = content.onway[0];\n        content.end = content.plan[content.plan.length - 1];\n        // let startDateShow = moment(content.startDate).format(\"k\");\n        // content.startDateShow = {\n        // \tmonth:startDate.month()+1,\n        // \tdate:startDate.date(),\n        // \tyear:startDate.year()\n        // };\n        let days = [],\n            nowDays = [],\n            old_w, daysIndex = {};\n\n        let initDay = function() {\n            if (nowDays.length > 0) {\n                let day = { date: nowDays[0].date, data: nowDays };\n                day.showDate = moment(day.date).format();\n                days.push(day);\n                nowDays = [];\n            }\n        }\n\n        for (let [i, w] of content.onway.entries()) {\n            w.dateShow = moment(w.date).format(\"kk\");\n            w.dateTime = moment(w.date).format(\"HH:mm\");\n            w.index = i;\n            if (old_w) {\n                if (moment(w.date).distance(old_w.date) !== 0) {\n                    initDay();\n                }\n                daysIndex[i] = days.length;\n            }\n            nowDays.push(w);\n            old_w = w;\n            // if(i!=content.onway.length-1){\n            // \tdelete w.location;\n            // }\n        }\n        initDay();\n\n\n        C.data.daysIndex = daysIndex;\n        C.data.days = days;\n        console.log(C.data);\n\n        for (let [i, w] of content.plan.entries()) {\n            if (i != content.plan.length - 1 && i != 0) {\n                delete w.location;\n            }\n        }\n\n        content.now = content.onway[content.onway.length - 1];\n    }\n\n    getData() {\n        let C = this;\n        Common.A.get(\"data/data.json\", (result) => {\n            if (result.status == 1) {\n                C.data = result.content;\n                C.dealData();\n\n                let travelInfoTemp = Handlebars.compile(template.detailInfo);\n                $('#blog .container').append(travelInfoTemp(C.data));\n\n                let timelineTemp = Handlebars.compile(template.timeLine);\n                $('#timeline').append(timelineTemp(C.data));\n        \t\t\n\n\n                C.doms = {\n                    mouse: $(\"#mouse-next\"),\n                    container: $('#blog>.container'),\n                    timelines:$(\"#timeline .time\"),\n                    timelinesDiv:$(\"#timeline\")\n                };\n                C.doms.timelines.each((i,n)=>{\n                    let title = n.title;\n                    $(n).tooltipster({\n                        position: 'bottom',\n                        content:title,\n                        theme: 'tooltipster-shadow',\n                        multiple: true,\n                    });\n                    $(n).tooltipster({\n                        position: 'bottom',\n                        content:title,\n                        trigger:\"click\",\n                        autoClose:\"false\",\n                        theme: 'tooltipster-shadow',\n                        multiple: true,\n                    });\n                });\n\n                //初次执行；\n                C.page = $(\".userInfo\");\n                let pos = C.getScrollPostion();\n                C.canMouse = !pos.isPageDown;\n                if (pos.isPageDown) {\n                    C.showMouse();\n                } else {\n                    C.hideMouse();\n                }\n                // for(let [i,data] of C.data.content.entries()){\n                // \tlet content = data.way;\n                // \tlet mapDom = $(\"#mapContainer_\" + i);\n\n                C.map = new Map(\"mapContainer\", Map.GAODE, C.data.way, { user_marker: true, polyline_animated: true, zoom: true });\n                // C.doms.timelines.filter(\"[index='0']\").addClass(\"focused\");\n                C.doms.timelines.on(\"click\",function(){\n                \tlet _this = $(this);\n                \tlet _index = parseInt(_this.attr(\"index\"));\n                \tlet type = C.index>_index?\"down\":\"up\";\n                    C.index = _index;\n                    C.changePage(type);\n                });\n                // let drawPoly = map.drawPolyline(C.data.way.plan,Map.GREY);\n                // let drawPoly = map.drawPolyline(C.data.way.onway,Map.COLORFUL);\n                // \tmap.drawPolyline(content.onway,Map.COLORFUL);\n                // \tmap.focus(drawPoly);\n                // $(\".leaflet-marker-icon\").tooltipster();\n                // }\n            }\n        });\n    }\n}\n\nlet getControl = () => {\n    return new Control();\n}\nexport default getControl;\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/way/control.js\n **/"],"sourceRoot":""}